---
description: "Guides efficient lookup of D&D 5e (2024) reference data from extracted indexes and markdown files"
alwaysApply: false
---

# D&D Reference Data Lookup

This project contains extracted D&D 5e (2024) reference data. Use these indexes for efficient lookups.

> **Note:** The `5etools-src/` submodule is ignored via `.cursorignore`. Always use the extracted
> markdown in `books/` instead of raw JSON. Run `python scripts/extract_all.py` to regenerate.

## Lookup Strategy (Fastest to Slowest)

1. **Grep JSON indexes** - For name-to-path lookups
2. **Read quick-reference files** - For scanning key stats
3. **Read cross-reference files** - For grouped lookups (by CR, rarity, etc.)
4. **Read individual markdown files** - For full details

## Index Files

| File | Use Case |
| ---- | -------- |
| `books/reference-index.json` | Name/type/path lookup for all 2,499 entries |
| `books/keyword-index.json` | Semantic lookups (damage types, creature types, schools) |

## Quick Reference Files

| File | Contents |
| ---- | -------- |
| `books/reference/spells/quick-reference.md` | 393 spells: level, school, time, range |
| `books/reference/creatures/quick-reference.md` | 592 creatures: CR, type, size, HP, AC |
| `books/reference/items/quick-reference.md` | 1,250 items: rarity, type, attunement |
| `books/reference/equipment/quick-reference.md` | 264 equipment: type, cost, damage/AC |

## Cross-Reference Files (`books/cross-references/`)

- `creatures-by-cr.md` - Creatures grouped by Challenge Rating
- `creatures-by-type.md` - Creatures grouped by type (Aberration, Beast, etc.)
- `spells-by-level.md` - Spells grouped by level
- `spells-by-school.md` - Spells grouped by school
- `items-by-rarity.md` - Items grouped by rarity
- `items-by-type.md` - Items grouped by type

## Reference Categories

| Category | Path | Count |
| -------- | ---- | ----- |
| Spells | `books/reference/spells/{level}/` | 393 |
| Creatures | `books/reference/creatures/` | 592 |
| Magic Items | `books/reference/items/` | 1,250 |
| Equipment | `books/reference/equipment/` | 264 |
| Classes | `books/reference/classes/` | 13 + 53 subclasses |
| Feats | `books/reference/feats/` | 77 |
| Backgrounds | `books/reference/backgrounds/` | 18 |
| Species | `books/reference/species/` | 21 |
| Rules/Conditions | `books/reference/rules/` | 161 |
| Vehicles | `books/reference/vehicles/` | 17 |
| Optional Features | `books/reference/optional-features/` | 58 |
| Weapon Mastery | `books/reference/mastery/` | 8 |

See `books/README.md` for complete list.

## Example Lookups

Find a spell by name:

```bash
grep -i "fireball" books/reference-index.json
```

Find all fire-related content:

```bash
grep -A 5 '"fire":' books/keyword-index.json
```

Find CR 5 creatures: Read `books/cross-references/creatures-by-cr.md` section "## CR 5"

## Source Books

- XPHB (Player's Handbook 2024)
- XDMG (Dungeon Master's Guide 2024)
- XMM (Monster Manual 2024)
- AAG (Astral Adventurer's Guide)
- BAM (Boo's Astral Menagerie)
- EFA (Eberron: Forge of the Artificer - Artificer class, species, magic items only)

## NPC Generation Lookups

When generating NPCs, use these reference paths for inspiration:

### Species Traits

For physical descriptions based on species:

```bash
# Find species file
grep -i "elf" books/reference-index.json | grep species

# Read species for traits
# books/reference/species/elf.md - height, weight, lifespan, physical features
```

Key species traits to extract:

- Size and build ranges
- Distinctive features (pointed ears, skin tones, etc.)
- Lifespan and age appearance
- Cultural tendencies

### Class Archetypes

For occupation and combat role inspiration:

| Occupation Type | Reference Class |
| --------------- | --------------- |
| Soldier, guard | Fighter (`books/reference/classes/fighter/`) |
| Healer, priest | Cleric (`books/reference/classes/cleric/`) |
| Scholar, sage | Wizard (`books/reference/classes/wizard/`) |
| Thief, spy | Rogue (`books/reference/classes/rogue/`) |
| Performer | Bard (`books/reference/classes/bard/`) |
| Ranger, hunter | Ranger (`books/reference/classes/ranger/`) |
| Monk, martial artist | Monk (`books/reference/classes/monk/`) |

### Background Inspiration

For personality and backstory hooks:

```bash
# List all backgrounds
grep -i "background" books/reference-index.json | head -20
```

Backgrounds provide: personality traits, ideals, bonds, flaws, and equipment.

### Stat Block References

For combat-relevant NPCs, reference existing creatures:

| NPC Type | Suggested Stat Block |
| -------- | -------------------- |
| Town guard | Guard, Veteran |
| Thug | Bandit, Thug |
| Noble | Noble, Knight |
| Mage | Mage, Archmage |
| Priest | Priest, Acolyte |
| Assassin | Assassin, Spy |

Find stat blocks in `books/reference/creatures/`.

## Regenerating Data

If `books/` is missing, run: `python scripts/extract_all.py`
