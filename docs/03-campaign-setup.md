# Campaign Setup

This document explains how to create and structure a campaign in 5e-cursor: initializing the campaign, editing the campaign overview, and understanding the directory layout.

## Initialize a Campaign

From the repository root (with your virtual environment activated):

```bash
python scripts/campaign/init_campaign.py "Your Campaign Name"
```

Replace `"Your Campaign Name"` with your actual campaign title (e.g. `"Shadows of the Astral Sea"`). The script will:

1. Create a `campaign/` directory at the repo root (if it doesn’t exist)
2. Create subdirectories: `party/characters/`, `npcs/`, `locations/`, `sessions/`, `encounters/`
3. Create `campaign/campaign.md` with a template that includes:
   - Campaign name and **Setting** (world/universe name)
   - **Current Session** counter
   - **Overview** and **Themes** sections
   - **House Rules** section
4. Create index files: `party/index.md`, `npcs/index.md`, `locations/index.md`, `sessions/index.md`, `encounters/index.md`

The `campaign/` directory is gitignored by default so your campaign data stays local unless you choose to track it.

## Campaign Overview File: campaign.md

`campaign/campaign.md` is the main place for high-level campaign metadata and notes.

### Fields You Should Edit

- **Setting** – Replace `[Your setting here]` with the world or setting name (e.g. *Forgotten Realms*, *Wildspace*, *Homebrew: Aerth*). The Web UI dashboard shows this when set.
- **Overview** – Replace the placeholder with a short description of your campaign.
- **Themes** – Replace `[Theme 1]` / `[Theme 2]` with actual themes (e.g. *Political intrigue*, *Cosmic horror*). The AI uses these to keep generated content consistent.
- **House Rules** – List any rule changes or table rules.

### Current Session

The **Current Session** value is incremented when you create new sessions (e.g. via `session_manager.py new "Title"` or the AI). You can also edit it manually in `campaign.md` if needed.

## Campaign Directory Layout

After initialization, your campaign looks like this:

```text
campaign/
├── campaign.md           # Overview, setting, themes, house rules
├── party/
│   ├── index.md          # Party roster (updated by import_character, etc.)
│   └── characters/       # One markdown file per character (from D&D Beyond or manual)
├── npcs/
│   ├── index.md          # NPC index (role, links to files)
│   └── *.md              # One file per NPC (e.g. vex-the-tavern-keeper.md)
├── locations/
│   ├── index.md          # Location index
│   └── *.md              # One file per location
├── sessions/
│   ├── index.md          # Session log (numbers, titles, dates)
│   ├── session-001.md    # Session summaries
│   ├── session-002.md
│   └── transcripts/      # Optional: raw transcripts from transcribe_session.py
└── encounters/
    ├── index.md          # Encounter index
    └── *.md              # Saved encounters (from encounter_builder or AI)
```

Optional files (created by specific tools):

- **campaign/events.md** – Custom events for the [timeline](09-optional-tools.md#campaign-timeline) (e.g. in-game dates and event descriptions)
- **campaign/relationships.md** – Generated by the [relationship graph](09-optional-tools.md#npc-relationship-graph) tool (Mermaid diagram and relationship list)

## Index Files

The `index.md` files in `party/`, `npcs/`, `locations/`, `sessions/`, and `encounters/` are maintained by the campaign scripts and the AI. They list existing entities and link to their markdown files. You can edit them by hand, but normally the CLI and AI update them when you add or remove entities.

## Multiple Campaigns

5e-cursor uses a single `campaign/` directory per repo. To work on multiple campaigns you can:

- Use separate clones of the repo, each with its own `campaign/`, or
- Swap content (e.g. rename `campaign/` to `campaign-campaign-a/` and `campaign-campaign-b/` to `campaign/`) when switching

There is no built-in “campaign switch” command; the tools always read from `campaign/` at the repo root.

## Next Steps

- Add party members (import from D&D Beyond or create manually): [Campaign Management](05-campaign-management.md#party-and-characters)
- Start adding NPCs and locations via the AI or CLI: [Campaign Management](05-campaign-management.md)
- Use the Web UI to browse everything: [Web UI](06-web-ui.md)
